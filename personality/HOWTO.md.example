# How Personality & Memory Works

## ğŸ§  Token-Efficient Memory System

MetaClaw uses **smart memory retrieval** to save tokens while staying context-aware!

### How It Works

```
User Input
    â†“
Keyword Extraction
    â†“
Memory Search (keyword matching)
    â†“
Relevance Scoring
    â†“
Top 2-3 Snippets Only! â† TOKEN EFFICIENT!
    â†“
Add to LLM Prompt
    â†“
Generate Response
    â†“
Remember Interaction
```

### Memory Files

1. **MEMORY.md** - Long-term curated memory
   - Important decisions, project context, lessons learned

2. **memory/YYYY-MM-DD.md** - Daily logs
   - Interactions by date, compact format, auto-created

3. **SOUL.md** - Personality core
   - Tone, vibe, communication style

4. **IDENTITY.md** - Who am I?
   - Name, emoji, capabilities

5. **USER.md** - About the owner
   - Basic info, preferences, notes

---

## ğŸ” Memory Search Example

### User asks: "How do I deploy the project?"

**Step 1: Extract keywords**
```
Keywords: ['deploy', 'project']
```

**Step 2: Search MEMORY.md**
```
Found in MEMORY.md line 42:
"Project deployed to staging server via SSH"
Score: 2 (both keywords matched)
```

**Step 3: Search recent daily logs**
```
Found in memory/2026-02-10.md line 78:
"Deployed successfully, database migrated"
Score: 1 (deploy matched)
```

**Step 4: Sort by relevance, take top 2**

**Token usage: ~50 tokens instead of 500+!**

---

## ğŸ“ Memory Writing

Every interaction is logged automatically:

```markdown
## 19:26 - LLM Query
**Input**: How do I deploy the project?
**Summary**: Deployed via SSH, database migrated...
**Tokens**: 85
---
```

Compact format = token-efficient retrieval later!

---

## ğŸ¯ Memory Best Practices

### Do:
- âœ… Keep daily logs concise
- âœ… Update MEMORY.md with important learnings
- âœ… Use keywords for searchability
- âœ… Write summaries, not full conversations

### Don't:
- âŒ Log every tiny interaction
- âŒ Repeat information across files
- âŒ Store sensitive data (passwords, keys)
- âŒ Make memory files huge

---

## ğŸ”§ Customization

### Change personality:
- `personality/SOUL.md` - Tone and vibe
- `personality/IDENTITY.md` - Name, emoji, persona
- `personality/USER.md` - About the owner

### Or re-run the setup wizard:
```bash
npm run setup
```

---

## ğŸš€ Result

- ğŸ’š Human-like responses
- ğŸ§  Context-aware (remembers conversations)
- âš¡ Token-efficient (only load relevant memory)
- ğŸ“ Auto-logging interactions
- ğŸ¯ Personalized tone
